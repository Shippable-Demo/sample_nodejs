language: node_js

node_js:
  - "0.10"
  - 0.12
  - 4.2.3
matrix:
  allow_failures:
    - 4.2.3
    
env:
  - XUNIT_FILE=shippable/testresults/result.xml

build:
  ci:
    - npm install
    - npm test

  post_ci:
    - ./node_modules/.bin/istanbul cover grunt -- -u tdd
    - ./node_modules/.bin/istanbul report cobertura --dir  shippable/codecoverage/
